<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Administrator</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <!-- bootstrap 3.0.2 -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- font Awesome -->
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="css/style.css">
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body class="skin-blue">
    <header class="header">
        <a href="index.html" class="logo">
           <img src="img/logo.png" alt="스마트메시징">
        </a>
        <nav class="navbar navbar-static-top" role="navigation">
            <a href="#" class="navbar-btn sidebar-toggle" data-toggle="offcanvas" role="button">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <div class="navbar-right">
                <ul class="nav navbar-nav">

                    <li class="dropdown user user-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="glyphicon glyphicon-user"></i>
                            <span>tammo1324<i class="caret"></i></span>
                        </a>
                        <ul class="dropdown-menu">
                            <!-- User image -->
                            <li class="user-header">
                                <img src="img/ico_admin.png" class="img-circle" alt="User Image" />
                                <p>
                                    tammo1234
                                    <small>tsis 모바일 R&amp;D</small>
                                </p>
                            </li>
                            <li class="user-footer">
                                <div class="pull-left">
                                    <a href="#" class="btn btn-default btn-flat">프로필</a>
                                </div>
                                <div class="pull-right">
                                    <a href="#" class="btn btn-default btn-flat">로그아웃</a>
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <div class="wrapper row-offcanvas row-offcanvas-left">
        <aside class="left-side sidebar-offcanvas">
            <section class="sidebar">
                <!-- Sidebar user panel -->
                <div class="user-panel">
                    <div class="pull-left image">
                        <img src="img/ico_admin.png" class="img-circle" alt="User Image" />
                    </div>
                    <div class="pull-left info">
                        <p>안녕하세요<br>tammo1234님</p>

                        <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
                    </div>
                </div>

                <ul class="sidebar-menu">
                    <!-- <li class="active">
                        <a href="#">
                            <i class="fa fa-home"></i> <span>Home</span>
                        </a>
                    </li> -->
                    <li class="treeview">
                        <a href="#">
                            <i class="fa fa-envelope-o"></i>
                            <span>메시지 관리</span>
                            <i class="fa fa-angle-down pull-right"></i>
                        </a>
                        <ul class="treeview-menu">
                            <li><a href="#"><i class="fa fa-angle-double-right"></i> 메시지규격관리</a></li>
                            <li><a href="#"><i class="fa fa-angle-double-right"></i> 발송순서관리</a></li>
                            <li><a href="#"><i class="fa fa-angle-double-right"></i> 메시지발송</a></li>
                        </ul>
                    </li>
                    <li class="treeview active">
                        <a href="#">
                            <i class="fa fa-calendar-check-o"></i>
                            <span>이력 관리</span>
                            <i class="fa fa-angle-down pull-right"></i>
                        </a>
                        <ul class="treeview-menu">
                            <li><a href="#"><i class="fa fa-angle-double-right"></i> 이력현황</a></li>
                            <li><a href="#"><i class="fa fa-angle-double-right"></i> 통계</a></li>
                        </ul>
                    </li>
                    <li class="treeview">
                        <a href="#">
                            <i class="fa fa-users"></i>
                            <span>관리자 설정</span>
                            <i class="fa fa-angle-right pull-right"></i>
                        </a>
                    </li>
                </ul>
            </section>
            <!-- /.sidebar -->
        </aside>

        <aside class="right-side">
            <section class="content-header">
                <h1>
                    발송실패상세이력<br>
                    <small>메시지 발송실패이력을 상세히 확인할 수 있습니다.</small>
                </h1>
                <ol class="breadcrumb">
                    <li><a href="#"><i class="fa fa-home"></i> Home</a></li>
                    <li><a href="#"><i class="fa fa-bars"></i> 이력관리</a></li>
                    <li><a href="#"><i class="fa fa-bars"></i> 발송실패이력</a></li>
                    <li class="active">발송실패상세이력</li>
                </ol>
            </section>

            <!-- Main content -->
            <section class="content">
                <div class="chart_container">
                    <p class="text-right text-light-blue">기준 시 : 16년 3월 22일 22:22</p>
                    <div class="row">
                        <div class="col-md-6 col-bb-3 text-center">
                            <h5>알림톡</h5>
                            <div class="chartbox">
                                <canvas id="chartVal1"></canvas>
                    		</div>
                        </div>
                        <div class="col-md-6 col-bb-3 text-center">
                            <h5>LMS</h5>
                            <div class="chartbox">
                                <canvas id="chartVal2"></canvas>
                    		</div>
                        </div>
                        <div class="clearfix visible-md"></div>
                        <div class="col-md-6 col-bb-3 text-center">
                            <h5>SMS</h5>
                            <div class="chartbox">
                    			<canvas id="chartVal3"></canvas>
                    		</div>
                        </div>
                        <div class="col-md-6 col-bb-3 text-center">
                            <h5>NMS</h5>
                            <div class="chartbox">
                                <canvas id="chartVal4"></canvas>
                    		</div>
                        </div>
                    </div>
                    <p class="text-orange">※ 당일기준 금일 00시 ~ 현재(성공 건 제외)</p>
                </div>
                <!-- //tab_container -->
            </section><!-- /.content -->

        </aside><!-- /.right-side -->
    </div><!-- ./wrapper -->

<script src="js/jquery-1.11.3.min.js"></script>
<script src="js/jquery-ui-1.10.3.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/ChartNew.js"></script>
<script src="js/common.js"></script>
<script>
$(document).ready(function(){

});

//차트 클릭 이벤트
function displayText(event,ctx,config,data,other){
    if(other != null) {
        if(typeof other.type !="undefined") {
    		var text;
    		var canvas_pos = getMousePos(ctx.canvas, event);
    		text="Area : "+other.values[0];
    		text=text+"\nText you click on : "+other.values[1];
    		text=text+"\n"+"Position where you click : ("+canvas_pos.x+","+canvas_pos.y+")";
    		text=text+"\nPosition of the corners of the text : ("+other.values[2].p1+","+other.values[3].p1+");("+other.values[2].p2+","+other.values[3].p2+");("+other.values[2].p3+","+other.values[3].p3+");("+other.values[2].p4+","+other.values[3].p4+")";
    		text=text+"\nText Rotation (in radian) : "+other.values[4];
    		text=text+"\nText Width : "+other.values[5];
    		text=text+"\nText Height : "+other.values[6];
    		switch(other.values[0]) {
    			case "CROSSTEXT_TEXTMOUSE" :
    				text=text+"\nCrossText Id : "+other.values[7];
    				text=text+"\nCrossText : "+config.crossText[other.values[7]];
    				break;
    			case "INGRAPHDATA_TEXTMOUSE":
    				if(ctx.tpdata==0){
    					text=text+"\nText Id : ("+other.values[7]+","+other.values[8]+")";
    					text=text+"\nData Value : "+data.datasets[other.values[7]].data[other.values[8]];
    					text=text+"\nData associated to : "+data.labels[other.values[8]]+data.datasets[other.values[7]].title;
    				} else if(ctx.tpdata==1) {
    					text=text+"\nText Id : "+other.values[7];
    					text=text+"\nData Value : "+data[other.values[7]].value;
    					text=text+"\nData associated to : "+data[other.values[7]].title;
    				}
    				break;
    			case "YLEFTAXIS_TEXTMOUSE" :
    				text=text+"\nLabel Id : "+other.values[8];
    				break;
    			case "YRIGHTAXIS_TEXTMOUSE" :
    				text=text+"\nLabel Id : "+other.values[8];
    				break;
    			case "XSCALE_TEXTMOUSE" :
    				text=text+"\nLabel Id : "+other.values[7];
    				text=text+"\nLabel Text : "+data.labels[other.values[7]];
    				break;
    			case "XAXIS_TEXTMOUSE" :
    				text=text+"\nLabel Id : "+other.values[7];
    				text=text+"\nLabel Text : "+data.labels[other.values[7]];
    				break;
    			case "SCALE_TEXTMOUSE" :
    				text=text+"\nLabel Id : "+other.values[7];
    				break;
    			case "LEGEND_TEXTMOUSE" :
    				text=text+"\nLegend Id : "+other.values[7];
    				if(ctx.tpdata==0){
    					text=text+"\nData associated to : "+data.datasets[other.values[7]].title;
    				} else if(ctx.tpdata==1) {
    					text=text+"\nData Value : "+data[other.values[7]].value;
    					text=text+"\nData associated to : "+data[other.values[7]].title;
    				}
    				break;
    			default: break;
    		};

    		window.alert(text);
        }
	}
}

//알림톡 옵션
var opts1 = {
    responsive : true,
    responsiveMaxWidth: 500,
    responsiveMinHeight: 300,
    responsiveMaxHeight: 400,
    animationEasing: "easeOutQuart",
    crossText: ["알림톡"],
    crossTextFontColor: ["#666"],
    crossTextFontSize: [14],
    animationSteps : 60,
    legend: true,
    legendBordersSpaceAfter: 15,
    showSingleLegend: true,
    inGraphDataShow: true,
    startAngle : 180,
    inGraphDataTmpl: "<%=v2 + ' (' + v6 + '%)'%>",
    annotateDisplay: true,
    detectMouseOnText : true,
    mouseDownLeft : displayText
}

//LMS 옵션
var opts2 = {
    responsive : true,
    responsiveMaxWidth: 500,
    responsiveMinHeight: 300,
    responsiveMaxHeight: 400,
    animationEasing: "easeOutQuart",
    crossText: ["LMS"],
    crossTextFontColor: ["#666"],
    crossTextFontSize: [14],
    animationSteps : 60,
    legend: true,
    legendBordersSpaceAfter: 15,
    showSingleLegend: true,
    inGraphDataShow: true,
    startAngle : 180,
    inGraphDataTmpl: "<%=v2 + ' (' + v6 + '%)'%>",
    annotateDisplay: true,
    detectMouseOnText : true,
    mouseDownLeft : displayText
}

//SMS 옵션
var opts3 = {
    responsive : true,
    responsiveMaxWidth: 500,
    responsiveMinHeight: 300,
    responsiveMaxHeight: 400,
    animationEasing: "easeOutQuart",
    crossText: ["SMS"],
    crossTextFontColor: ["#666"],
    crossTextFontSize: [14],
    animationSteps : 60,
    legend: true,
    legendBordersSpaceAfter: 15,
    showSingleLegend: true,
    inGraphDataShow: true,
    startAngle : 180,
    inGraphDataTmpl: "<%=v2 + ' (' + v6 + '%)'%>",
    annotateDisplay: true,
    detectMouseOnText : true,
    mouseDownLeft : displayText
}

//NMS 옵션
var opts4 = {
    responsive : true,
    responsiveMaxWidth: 500,
    responsiveMinHeight: 300,
    responsiveMaxHeight: 400,
    animationEasing: "easeOutQuart",
    crossText: ["NMS"],
    crossTextFontColor: ["#666"],
    crossTextFontSize: [14],
    animationSteps : 60,
    legend: true,
    legendBordersSpaceAfter: 15,
    showSingleLegend: true,
    inGraphDataShow: true,
    startAngle : 180,
    inGraphDataTmpl: "<%=v2 + ' (' + v6 + '%)'%>",
    annotateDisplay: true,
    detectMouseOnText : true,
    mouseDownLeft : displayText
}

//알림톡 데이터
var alimData = [
    {
        value: 340,
        color:"#F7464A",
        title: "alimCode1"
    },
    {
        value: 42,
        color: "#FF8224",
        title: "alimCode2"
    },
    {
        value: 12,
        color: "#FDB45C",
        title: "alimCode3"
    },
    {
        value: 8,
        color: "#FFE400",
        title: "alimCode4"
    },
    {
        value: 5,
        color: "#D6C94D",
        title: "alimCode5"
    }
];

//LMS 데이터
var lmsData = [
    {
        value: 23,
        color:"#F7464A",
        title: "lmsCode1"
    },
    {
        value: 4,
        color: "#FF8224",
        title: "lmsCode2"
    },
    {
        value: 2,
        color: "#FDB45C",
        title: "lmsCode3"
    },
    {
        value: 1,
        color: "#FFE400",
        title: "lmsCode4"
    },
    {
        value: 0,
        color: "#D6C94D",
        title: "lmsCode5"
    }
];

//SMS 데이터
var smsData = [
    {
        value: 80,
        color:"#F7464A",
        title: "smsCode1"
    },
    {
        value: 32,
        color: "#FF8224",
        title: "smsCode2"
    },
    {
        value: 10,
        color: "#FDB45C",
        title: "smsCode3"
    },
    {
        value: 8,
        color: "#FFE400",
        title: "smsCode4"
    },
    {
        value: 2,
        color: "#D6C94D",
        title: "smsCode5"
    }
];

//NMS 데이터
var nmsData = [
    {
        value: 300,
        color:"#F7464A",
        title: "nmsCode1"
    },
    {
        value: 150,
        color: "#FF8224",
        title: "nmsCode2nmsCode2"
    },
    {
        value: 100,
        color: "#FDB45C",
        title: "nmsCode3"
    },
    {
        value: 40,
        color: "#FFE400",
        title: "nmsCode4"
    },
    {
        value: 10,
        color: "#D6C94D",
        title: "nmsCode5"
    }
];

//캔버스 생성
window.onload = function(){
    var ctx1 = document.getElementById("chartVal1").getContext("2d");
    var ctx2 = document.getElementById("chartVal2").getContext("2d");
    var ctx3 = document.getElementById("chartVal3").getContext("2d");
    var ctx4 = document.getElementById("chartVal4").getContext("2d");

    window.myDoughnut = new Chart(ctx1).Doughnut(nmsData, opts1);
    window.myDoughnut = new Chart(ctx2).Doughnut(alimData, opts2);
    window.myDoughnut = new Chart(ctx3).Doughnut(smsData, opts3);
    window.myDoughnut = new Chart(ctx4).Doughnut(lmsData, opts4);
};
</script>
</body>
</html>
